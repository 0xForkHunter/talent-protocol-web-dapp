<div class="container mt-4">
  <h1>Talent</h1>

  <% if @alert.present? %>
    <div class="d-flex w-100">
      <%= react_component("Alert",
        props: {
          type: @alert.alert_type,
          text: @alert.text,
          href: @alert.href,
          buttonText: @alert.button_text
        },
        prerender: false, 
        html_options: { class: @alert.css_class }) %>
    </div>
  <% end %>
  <div class="d-flex flex-row justify-content-between">
    <%= link_to "All", talent_index_path, class: "btn btn-primary talent-button", role: "button" %>
    <%= link_to "Active", talent_active_path, class: "btn btn-primary talent-button", role: "button" %>
    <%= link_to "Upcoming", talent_upcoming_path, class: "btn btn-primary talent-button", role: "button" %>

    <%= link_to "Newest", url_for(sort: "newest"), class: "btn btn-primary talent-button", role: "button" %>
    <%= link_to "Market Cap", url_for(sort: "market_cap"), class: "btn btn-primary talent-button", role: "button" %>
    <%= link_to "Activity", url_for(sort: "activity"), class: "btn btn-primary talent-button", role: "button" %>
  </div>

  <div class="d-flex flex-row flex-wrap">
    <% @talents.each do |talent| %>
      <div class="card col-sm-12 col-md-6 col-lg-4 border-0 pl-0 pt-2 pb-2 pr-2">
        <div class="card-body p-3 border position-relative">
          <h5 class="card-title"><%= talent.username%></h5>
          <h6 class="card-subtitle mb-2 text-muted"><%= talent.coin.display_ticker %></h6>
          <p class="card-text"><small><%= talent.description %></small></p>
          <% if talent.active? %>
            <small class="text-success talent-status-badge active py-1 px-2">
              <%= talent.status %>
            </small>
          <% else %>
            <small class="text-warning talent-status-badge upcoming py-1 px-2">
              <%= talent.status %>
            </small>
          <% end %>
          <p>Price: <%= talent.coin.display_price %></p>
          <p>Market cap: <%= talent.coin.display_market_cap %></p>
          <p>Sponsors: <%= talent.investors.count %></p>
          <%= link_to "Buy Coin", talent_path(talent.id), class: "btn btn-primary talent-button", role: "button" %>
        </div>
      </div>
    <% end %>
  </div>

  <%== pagy_bootstrap_nav(@pagy) %>
</div>
